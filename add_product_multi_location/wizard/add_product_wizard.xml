<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <!--Add wizard for Adding Location and Price-->
    <data>
        <record id="add_product_wizard_form" model="ir.ui.view">
            <field name="name">add.product.wizard.form</field>
            <field name="model">add.product.wizard</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <form>
                    <style>
                        .o_form_view.o_form_nosheet{
                        padding-bottom:0;
                        padding-right:0;
                        padding-right:0;
                        padding-top:0;
                        }
                        @media (min-width: 992px){
                        .modal-lg, .modal-xl {
                        max-width: 1400px !important;
                        }}
                    </style>
                    <div class="text-muted" attrs="{'invisible': [('update_type', '!=', 'locations')]}">
                        <ul>
                            <li>Already associated product will appear in yellow color.
                            </li>
                        </ul>
                    </div>
                    <group>
                        <group>
                            <field name="mm_dom_ids" widget="many2many_tags"
                                   invisible="1"/>
                            <field name="market_filter_ids"
                                   widget="many2many_tags" invisible="1"/>
                            <field name="product_ids" widget="many2many_tags"
                                   readonly="1"
                                   options="{'no_create': True, 'no_create_edit':True}"/>
                        </group>
                        <group>
                            <group>
                                <field name="update_type"/>
                            </group>
                            <group>

                            </group>
                        </group>
                    </group>
                    <group>
                        <group>
                            <field name="market_filter_ids"
                                   widget="many2many_tags" readonly="1" attrs="{'invisible': [('update_type', '!=', 'locations')]}"/>
                        </group>
                        <group>

                            <div class="o_row">
                                <group>

                                    <field name="micro_market_ids"
                                           widget="many2many_tags"
                                           options="{'no_create': True, 'no_create_edit':True}"
                                           domain="[('id', 'not in', market_filter_ids), ('id', 'in', mm_dom_ids)]"
                                           attrs="{'invisible': [('update_type', '!=', 'locations')]}"/>
                                    <field name="customer_ids"
                                           widget="many2many_tags"
                                           options="{'no_create': True, 'no_create_edit':True}"
                                           attrs="{'invisible': [('update_type', '!=', 'customers')]}"/>
                                </group>
                                <label for="location_boolean"
                                       class="btn btn-primary o_form_button_primary"
                                       style="margin-bottom: 22px;margin-right: 100px;padding: 11px;font-weight: bold !important;color:white !important; "/>
                                <field name="location_boolean" invisible="1"/>
                            </div>
                        </group>
                    </group>
                    <field name="location_line_ids" nolabel="1"
                           attrs="{'invisible': [('update_type', '!=', 'locations')]}">
                        <tree create="0" delete="1" edit="1" editable="bottom"
                              default_order="product_id" decoration-warning="exist_boolean == True"
                              class="disable_open">
                            <field name="product_wizard_id" invisible="1"/>
                            <field name="product_id" readonly="1" force_save="1"
                                   style="width: 25% !important;"/>
                            <field name="micro_market_id" readonly="1"
                                   force_save="1"
                                   style="width: 30% !important;"/>
                            <field name="existing_price" readonly="1"/>
                            <field name="price"/>
                            <field name="exist_boolean" invisible="1"/>

                        </tree>
                    </field>
                    <field name="customer_line_ids" nolabel="1"
                           attrs="{'invisible': [('update_type', '!=', 'customers')]}">
                        <tree create="0" delete="1" edit="1" editable="bottom"
                              default_order="product_id"
                              class="disable_open">
                            <field name="customer_wizard_id" invisible="1"/>
                            <field name="product_id" readonly="1" force_save="1"
                                   style="width: 25% !important;"/>
                            <field name="customer_id" readonly="1"
                                   force_save="1"
                                   style="width: 30% !important;"/>
                            <field name="uom_id" readonly="1" force_save="1"/>
                            <field name="existing_price" readonly="1"/>
                            <field name="price"/>
                            <field name="exist_boolean" invisible="1"/>

                        </tree>
                    </field>
                    <footer>
                        <button name="add_product" string="Confirm"
                                type="object"
                                class="btn btn-primary report_button"/>
                        <button string="Cancel" class="btn btn-secondary"
                                special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
    </data>
</odoo>